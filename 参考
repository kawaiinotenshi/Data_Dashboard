åŸºäºä½ çš„éœ€æ±‚ï¼Œæˆ‘ä¸ºä½ è®¾è®¡ä¸€ä¸ªå®Œæ•´çš„å‰åç«¯åˆ†ç¦»é¡¹ç›®æ¶æ„æ–¹æ¡ˆã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„è®¾è®¡æ€è·¯å’Œå®ç°æ–¹æ¡ˆï¼š
ğŸ—ï¸ é¡¹ç›®æ•´ä½“æ¶æ„
logistics-dashboard/
â”œâ”€â”€ frontend/                 # Vue 3 å‰ç«¯é¡¹ç›®ï¼ˆå·²å®Œæˆï¼‰
â”œâ”€â”€ backend/                  # Spring Boot åç«¯é¡¹ç›®
â”œâ”€â”€ database/                 # æ•°æ®åº“è„šæœ¬
â””â”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
ğŸ“‹ æŠ€æœ¯æ ˆé€‰å‹
å‰ç«¯æŠ€æœ¯æ ˆï¼ˆå·²å®Œæˆï¼‰
æ¡†æ¶: Vue 3 + Vite
å¯è§†åŒ–: ECharts 5
HTTPå®¢æˆ·ç«¯: Axios
æ„å»ºå·¥å…·: Vite
ä»£ç è§„èŒƒ: ESLint + Prettier
åç«¯æŠ€æœ¯æ ˆ
æ¡†æ¶: Spring Boot 2.7.x
æ•°æ®åº“: MySQL 8.0
ORM: MyBatis-Plus
APIæ–‡æ¡£: Swagger UI
æ„å»ºå·¥å…·: Maven
Javaç‰ˆæœ¬: JDK 8
ğŸ—ƒï¸ æ•°æ®åº“è®¾è®¡
1. ä»“åº“ä¿¡æ¯è¡¨ (warehouse)
CREATE TABLE warehouse (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL COMMENT 'ä»“åº“åç§°',
    location VARCHAR(200) COMMENT 'ä»“åº“ä½ç½®',
    area DECIMAL(10,2) COMMENT 'é¢ç§¯(å¹³æ–¹ç±³)',
    utilization_rate DECIMAL(5,2) COMMENT 'åˆ©ç”¨ç‡(%)',
    capacity DECIMAL(10,2) COMMENT 'å®¹é‡(å¨)',
    throughput DECIMAL(10,2) COMMENT 'æµè½¬é‡(å¨)',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
2. åº“å­˜å æ¯”è¡¨ (inventory_ratio)
CREATE TABLE inventory_ratio (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    enterprise_name VARCHAR(100) NOT NULL COMMENT 'ä¼ä¸šåç§°',
    ratio DECIMAL(5,2) NOT NULL COMMENT 'å æ¯”(%)',
    month VARCHAR(7) COMMENT 'æœˆä»½(yyyy-MM)',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP
);
3. æ¸…å…³æ•°æ®è¡¨ (customs_clearance)
CREATE TABLE customs_clearance (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    country VARCHAR(50) NOT NULL COMMENT 'å›½å®¶',
    product_type VARCHAR(100) COMMENT 'äº§å“ç±»å‹',
    quantity DECIMAL(10,2) COMMENT 'æ•°é‡(å¨)',
    year_month VARCHAR(7) COMMENT 'å¹´æœˆ(yyyy-MM)',
    growth_rate DECIMAL(5,2) COMMENT 'åŒæ¯”å¢é•¿ç‡(%)',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP
);
4. å‡ºå…¥åº“è®°å½•è¡¨ (in_out_record)
CREATE TABLE in_out_record (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    record_date DATE NOT NULL COMMENT 'è®°å½•æ—¥æœŸ',
    type TINYINT NOT NULL COMMENT 'ç±»å‹(1:å…¥åº“, 2:å‡ºåº“)',
    quantity DECIMAL(10,2) NOT NULL COMMENT 'æ•°é‡(å¨)',
    warehouse_id BIGINT COMMENT 'ä»“åº“ID',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP
);
ğŸ”§ åç«¯å®ç°æ–¹æ¡ˆ
1. é¡¹ç›®ç»“æ„
backend/
â”œâ”€â”€ src/main/java/com/logistics/
â”‚   â”œâ”€â”€ LogisticsApplication.java
â”‚   â”œâ”€â”€ config/               # é…ç½®ç±»
â”‚   â”œâ”€â”€ controller/           # æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ service/             # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ mapper/              # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ entity/              # å®ä½“ç±»
â”‚   â”œâ”€â”€ dto/                 # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â””â”€â”€ common/              # é€šç”¨ç±»
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.yml
â”‚   â””â”€â”€ mapper/              # MyBatisæ˜ å°„æ–‡ä»¶
â””â”€â”€ pom.xml
2. Mavenä¾èµ–é…ç½® (pom.xml)
<?xml version="1.0" encoding="UTF-8"?>
<project>
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>2.7.18</version>
        <relativePath/>
    </parent>
    
    <groupId>com.logistics</groupId>
    <artifactId>logistics-dashboard</artifactId>
    <version>1.0.0</version>
    
    <properties>
        <java.version>1.8</java.version>
        <mybatis-plus.version>3.5.3.1</mybatis-plus.version>
    </properties>
    
    <dependencies>
        <!-- Spring Boot Starter -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        
        <!-- MyBatis-Plus -->
        <dependency>
            <groupId>com.baomidou</groupId>
            <artifactId>mybatis-plus-boot-starter</artifactId>
            <version>${mybatis-plus.version}</version>
        </dependency>
        
        <!-- MySQLé©±åŠ¨ -->
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>8.0.33</version>
        </dependency>
        
        <!-- Swagger -->
        <dependency>
            <groupId>io.springfox</groupId>
            <artifactId>springfox-boot-starter</artifactId>
            <version>3.0.0</version>
        </dependency>
        
        <!-- æµ‹è¯• -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
    
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
</project>
3. å®ä½“ç±»ç¤ºä¾‹
// Warehouse.java
@Data
@TableName("warehouse")
public class Warehouse {
    @TableId(type = IdType.AUTO)
    private Long id;
    private String name;
    private String location;
    private BigDecimal area;
    private BigDecimal utilizationRate;
    private BigDecimal capacity;
    private BigDecimal throughput;
    private LocalDateTime createdTime;
    private LocalDateTime updatedTime;
}

// InventoryRatioDTO.java
@Data
public class InventoryRatioDTO {
    private String enterpriseName;
    private BigDecimal ratio;
    private String month;
}
4. æ§åˆ¶å™¨å®ç°
@RestController
@RequestMapping("/api")
@CrossOrigin(origins = "*") // å…è®¸è·¨åŸŸ
public class DashboardController {
    
    @Autowired
    private WarehouseService warehouseService;
    
    @Autowired
    private CustomsClearanceService customsService;
    
    // è·å–ä»“åº“åŸºæœ¬ä¿¡æ¯
    @GetMapping("/warehouse/basic")
    public Result<WarehouseBasicVO> getWarehouseBasicInfo() {
        return Result.success(warehouseService.getBasicInfo());
    }
    
    // è·å–ä¼ä¸šåº“å­˜å æ¯”
    @GetMapping("/inventory/ratio")
    public Result<List<InventoryRatioVO>> getInventoryRatio() {
        return Result.success(warehouseService.getInventoryRatio());
    }
    
    // è·å–BBCæ¸…å…³æ•°æ®ï¼ˆæŒ‰å¹´ï¼‰
    @GetMapping("/customs/annual")
    public Result<List<CustomsAnnualVO>> getCustomsAnnualData() {
        return Result.success(customsService.getAnnualData());
    }
    
    // è·å–å…¨å›½ä»“åº“åˆ†å¸ƒæ•°æ®
    @GetMapping("/warehouse/distribution")
    public Result<List<WarehouseDistributionVO>> getWarehouseDistribution() {
        return Result.success(warehouseService.getDistributionData());
    }
    
    // è·å–å‡ºå…¥åº“è¶‹åŠ¿æ•°æ®
    @GetMapping("/in-out/trend")
    public Result<InOutTrendVO> getInOutTrend() {
        return Result.success(warehouseService.getInOutTrend());
    }
    
    // è·å–å­£åº¦ä¸šåŠ¡æ•°æ®
    @GetMapping("/business/quarterly")
    public Result<List<BusinessQuarterlyVO>> getBusinessQuarterly() {
        return Result.success(warehouseService.getQuarterlyData());
    }
    
    // è·å–ä»“åº“åˆ©ç”¨æ¯”
    @GetMapping("/warehouse/utilization")
    public Result<List<WarehouseUtilizationVO>> getWarehouseUtilization() {
        return Result.success(warehouseService.getUtilizationData());
    }
}
5. æœåŠ¡å±‚å®ç°
@Service
public class WarehouseServiceImpl implements WarehouseService {
    
    @Autowired
    private WarehouseMapper warehouseMapper;
    
    @Override
    public WarehouseBasicVO getBasicInfo() {
        // å®ç°ä¸šåŠ¡é€»è¾‘ï¼Œè¿”å›å‰ç«¯éœ€è¦çš„æ•°æ®ç»“æ„
        WarehouseBasicVO vo = new WarehouseBasicVO();
        vo.setTotalWarehouses(365);
        vo.setTotalArea(new BigDecimal("116800"));
        vo.setTotalCapacity(new BigDecimal("130000"));
        vo.setAnnualOutput(new BigDecimal("45460000"));
        return vo;
    }
    
    @Override
    public List<InventoryRatioVO> getInventoryRatio() {
        // ä»æ•°æ®åº“æŸ¥è¯¢ä¼ä¸šåº“å­˜å æ¯”æ•°æ®
        return warehouseMapper.selectInventoryRatio();
    }
}
6. ç»Ÿä¸€è¿”å›ç»“æœå°è£…
@Data
public class Result<T> {
    private Integer code;
    private String message;
    private T data;
    private Long timestamp;
    
    public static <T> Result<T> success(T data) {
        Result<T> result = new Result<>();
        result.setCode(200);
        result.setMessage("success");
        result.setData(data);
        result.setTimestamp(System.currentTimeMillis());
        return result;
    }
}
7. é…ç½®æ–‡ä»¶ (application.yml)
server:
  port: 8080
  servlet:
    context-path: /

spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/logistics_db?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
    username: root
    password: root
  
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8

mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      id-type: auto
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0

# Swaggeré…ç½®
springfox:
  documentation:
    swagger:
      v2:
        path: /v2/api-docs
ğŸ”„ å‰ç«¯APIé›†æˆ
1. å®‰è£…Axios
npm install axios
2. åˆ›å»ºAPIæœåŠ¡ (src/services/api.js)
import axios from 'axios'

// åˆ›å»ºaxioså®ä¾‹
const api = axios.create({
  baseURL: 'http://localhost:8080/api',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json'
  }
})

// è¯·æ±‚æ‹¦æˆªå™¨
api.interceptors.request.use(
  config => {
    // å¯åœ¨æ­¤æ·»åŠ tokenç­‰
    return config
  },
  error => {
    return Promise.reject(error)
  }
)

// å“åº”æ‹¦æˆªå™¨
api.interceptors.response.use(
  response => {
    return response.data
  },
  error => {
    console.error('APIè¯·æ±‚é”™è¯¯:', error)
    return Promise.reject(error)
  }
)

// APIæ¥å£å®šä¹‰
export const dashboardAPI = {
  // è·å–ä»“åº“åŸºæœ¬ä¿¡æ¯
  getWarehouseBasic: () => api.get('/warehouse/basic'),
  
  // è·å–ä¼ä¸šåº“å­˜å æ¯”
  getInventoryRatio: () => api.get('/inventory/ratio'),
  
  // è·å–BBCæ¸…å…³æ•°æ®ï¼ˆæŒ‰å¹´ï¼‰
  getCustomsAnnual: () => api.get('/customs/annual'),
  
  // è·å–å…¨å›½ä»“åº“åˆ†å¸ƒ
  getWarehouseDistribution: () => api.get('/warehouse/distribution'),
  
  // è·å–å‡ºå…¥åº“è¶‹åŠ¿
  getInOutTrend: () => api.get('/in-out/trend'),
  
  // è·å–å­£åº¦ä¸šåŠ¡æ•°æ®
  getBusinessQuarterly: () => api.get('/business/quarterly'),
  
  // è·å–ä»“åº“åˆ©ç”¨æ¯”
  getWarehouseUtilization: () => api.get('/warehouse/utilization')
}

export default api
3. åœ¨Vueç»„ä»¶ä¸­é›†æˆAPI
// åœ¨LeftPanel.vueä¸­
import { dashboardAPI } from '@/services/api'

export default {
  data() {
    return {
      basicInfo: {},
      inventoryData: [],
      customsData: []
    }
  },
  async mounted() {
    await this.loadData()
  },
  methods: {
    async loadData() {
      try {
        // å¹¶è¡Œè¯·æ±‚æ‰€æœ‰æ•°æ®
        const [basicRes, inventoryRes, customsRes] = await Promise.all([
          dashboardAPI.getWarehouseBasic(),
          dashboardAPI.getInventoryRatio(),
          dashboardAPI.getCustomsAnnual()
        ])
        
        this.basicInfo = basicRes.data
        this.inventoryData = inventoryRes.data
        this.customsData = customsRes.data
        
        // æ›´æ–°å›¾è¡¨æ•°æ®
        this.updateCharts()
      } catch (error) {
        console.error('æ•°æ®åŠ è½½å¤±è´¥:', error)
      }
    },
    updateCharts() {
      // ä½¿ç”¨APIè¿”å›çš„æ•°æ®æ›´æ–°EChartså›¾è¡¨
      if (this.chart1) {
        const option = {
          // ... ä½¿ç”¨this.inventoryDataæ›´æ–°å›¾è¡¨é…ç½®
        }
        this.chart1.setOption(option)
      }
    }
  }
}
ğŸš€ éƒ¨ç½²å’Œè¿è¡ŒæŒ‡å—
1. æ•°æ®åº“åˆå§‹åŒ–
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE logistics_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- ä½¿ç”¨æ•°æ®åº“
USE logistics_db;

-- æ‰§è¡Œå‰é¢æä¾›çš„å»ºè¡¨è¯­å¥
-- æ’å…¥ç¤ºä¾‹æ•°æ®
INSERT INTO warehouse (name, location, area, utilization_rate, capacity, throughput) VALUES 
('å¤§è¿ä»“', 'è¾½å®çœå¤§è¿å¸‚', 50000, 75.00, 150000, 1500000),
('é’å²›ä»“', 'å±±ä¸œçœé’å²›å¸‚', 30000, 82.00, 80000, 500000),
('å®æ³¢ä»“', 'æµ™æ±Ÿçœå®æ³¢å¸‚', 28000, 68.00, 70000, 600000);
2. åç«¯å¯åŠ¨
cd backend
mvn clean install
mvn spring-boot:run
è®¿é—®Swaggeræ–‡æ¡£: http://localhost:8080/swagger-ui.html
3. å‰ç«¯å¯åŠ¨
cd frontend
npm install
npm run dev
è®¿é—®å‰ç«¯åº”ç”¨: http://localhost:3000
ğŸ“Š APIæ¥å£æ¸…å•
æ¨¡å—
	
æ¥å£è·¯å¾„
	
æ–¹æ³•
	
æè¿°


åŸºæœ¬ä¿¡æ¯
	
/api/warehouse/basic
	
GET
	
è·å–ä»“åº“åŸºæœ¬ä¿¡æ¯


åº“å­˜å æ¯”
	
/api/inventory/ratio
	
GET
	
è·å–ä¼ä¸šåº“å­˜å æ¯”


BBCæ¸…å…³
	
/api/customs/annual
	
GET
	
è·å–å¹´åº¦æ¸…å…³æ•°æ®


ä»“åº“åˆ†å¸ƒ
	
/api/warehouse/distribution
	
GET
	
è·å–å…¨å›½ä»“åº“åˆ†å¸ƒ


å‡ºå…¥åº“è¶‹åŠ¿
	
/api/in-out/trend
	
GET
	
è·å–å‡ºå…¥åº“è¶‹åŠ¿æ•°æ®


å­£åº¦æ•°æ®
	
/api/business/quarterly
	
GET
	
è·å–å­£åº¦ä¸šåŠ¡æ•°æ®


ä»“åº“åˆ©ç”¨æ¯”
	
/api/warehouse/utilization
	
GET
	
è·å–ä»“åº“åˆ©ç”¨ç‡æ•°æ®
ğŸ”§ å¼€å‘æ³¨æ„äº‹é¡¹
è·¨åŸŸé…ç½®: åç«¯å·²é…ç½®@CrossOriginæ”¯æŒå‰ç«¯å¼€å‘
æ•°æ®æ ¼å¼: å‰åç«¯ç»Ÿä¸€ä½¿ç”¨JSONæ ¼å¼é€šä¿¡
é”™è¯¯å¤„ç†: å®ç°ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
æ•°æ®éªŒè¯: æ·»åŠ å‚æ•°éªŒè¯æ³¨è§£
æ—¥å¿—è®°å½•: æ·»åŠ å¿…è¦çš„æ“ä½œæ—¥å¿—
æ€§èƒ½ä¼˜åŒ–: è€ƒè™‘æ•°æ®ç¼“å­˜ç­–ç•¥
è¿™ä¸ªæ¶æ„æ–¹æ¡ˆç¡®ä¿äº†å‰åç«¯åˆ†ç¦»çš„æ¸…æ™°ç•Œé™ï¼Œæä¾›äº†å®Œæ•´çš„APIæ¥å£è§„èŒƒï¼Œå¹¶ä¸”ä¸ä½ çš„ç°æœ‰Vueå‰ç«¯å®Œç¾é›†æˆã€‚Builderå¯ä»¥æ ¹æ®è¿™ä¸ªè®¾è®¡æ–‡æ¡£è¿›è¡Œå…·ä½“çš„ä»£ç å®ç°ã€‚